@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");
@import "@team-numberone/daepiro-design-system/dist/index.css";
@import "tailwindcss";

/* 모바일 스크롤 완전 차단 */
html,
body {
	overflow: hidden;
	position: fixed;
	width: 100%;
	-webkit-overflow-scrolling: none;
}

/* 동적 뷰포트 높이 (모바일 브라우저 주소창 고려) */
html,
body {
	/* iOS Safari safe area 고려한 동적 뷰포트 높이 */
	height: calc(100dvh - env(safe-area-inset-bottom, 0px));
}

/* iOS Safari 지원 */
@supports (-webkit-touch-callout: none) {
	html,
	body {
		height: -webkit-fill-available;
		/* safe area를 고려한 최소 높이 */
		min-height: calc(100vh - env(safe-area-inset-bottom, 0px));
	}
}

/* 터치 스크롤 완전 차단 */
body {
	touch-action: none;
	-ms-touch-action: none;
}

/* 모바일에서 스크롤 방지 (추가 보안) */
* {
	-webkit-overflow-scrolling: touch;
}

body > * {
	overscroll-behavior: none;
}

/* Safe Area Support - 모바일 브라우저 툴바 대응 */
@layer utilities {
	.pb-safe {
		padding-bottom: max(env(safe-area-inset-bottom, 0px), 20px);
	}

	.pt-safe {
		padding-top: env(safe-area-inset-top, 0px);
	}

	.h-safe-screen {
		height: calc(100dvh - env(safe-area-inset-bottom, 0px));
	}
}

/*
 * Tailwind CSS v4 - @theme 블록을 사용한 CSS-first configuration
 * 대피로 디자인 시스템의 CSS 변수를 직접 참조하여 Tailwind 유틸리티로 변환
 * Primary 컬러를 그린(secondary)으로 오버라이드
 */
@theme {
	/* Primary 컬러 (그린으로 오버라이드) - 대피로 디자인 시스템의 green 변수 참조 */
	--color-primary-50: var(--color-green-50);
	--color-primary-100: var(--color-green-100);
	--color-primary-200: var(--color-green-200);
	--color-primary-300: var(--color-green-300);
	--color-primary-400: var(--color-green-400);
	--color-primary-500: var(--color-green-500); /* 메인 primary 그린 */
	--color-primary-600: var(--color-green-600);
	--color-primary-700: var(--color-green-700);
	--color-primary-800: var(--color-green-800);
	--color-primary-900: var(--color-green-900);

	/* Gray 컬러 - 대피로 디자인 시스템의 gray 변수 참조 */
	--color-gray-50: var(--color-gray-50);
	--color-gray-75: var(--color-gray-75);
	--color-gray-100: var(--color-gray-100);
	--color-gray-200: var(--color-gray-200);
	--color-gray-300: var(--color-gray-300);
	--color-gray-400: var(--color-gray-400);
	--color-gray-500: var(--color-gray-500);
	--color-gray-600: var(--color-gray-600);
	--color-gray-700: var(--color-gray-700);
	--color-gray-800: var(--color-gray-800);
	--color-gray-900: var(--color-gray-900);
}

/*
 * 대피로 디자인 시스템의 primary를 그린(secondary)으로 오버라이드
 * 디자인 시스템 컴포넌트가 사용하는 CSS 변수도 오버라이드
 */
:root {
	--color-primary-50: var(--color-green-50);
	--color-primary-100: var(--color-green-100);
	--color-primary-200: var(--color-green-200);
	--color-primary-300: var(--color-green-300);
	--color-primary-400: var(--color-green-400);
	--color-primary-500: var(--color-green-500);
	--color-primary-600: var(--color-green-600);
	--color-primary-700: var(--color-green-700);
	--color-primary-800: var(--color-green-800);
	--color-primary-900: var(--color-green-900);

	/* Pretendard 폰트 적용 */
	--font-family-sans:
		"Pretendard Variable", Pretendard, -apple-system,
		BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI",
		"Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji",
		"Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
}

/* 전역 Pretendard 폰트 적용 */
html,
body {
	font-family:
		"Pretendard Variable", Pretendard, -apple-system,
		BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI",
		"Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji",
		"Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
}

/* 대피로 디자인 시스템 Typography - Utilities Layer */
@layer utilities {
	/* Green Gradient Background */
	.bg-green-gradient {
		background:
			radial-gradient(
				81.11% 33.13% at 50% 50%,
				rgba(186, 233, 208, 0.7) 0%,
				rgba(186, 233, 208, 0) 100%
			),
			#f5f5f7;
	}

	/* Green Radial Gradient for Call Page */
	.bg-green-radial {
		background: radial-gradient(
			50% 49.84% at 50% 50.16%,
			rgba(186, 233, 208, 0.6) 0%,
			rgba(186, 233, 208, 0) 100%
		);
	}

	/* White Radial Gradient for Hint Box */
	.bg-white-radial {
		background: radial-gradient(
			50% 50% at 50% 50%,
			rgba(255, 255, 255, 0.3) 0%,
			rgba(255, 255, 255, 0.8) 100%
		);
	}

	/* Shadow */
	.shadow-layered {
		box-shadow:
			-52.339px 52.312px 105px 0 rgba(0, 0, 0, 0.02),
			-30.817px 30.802px 54.768px 0 rgba(0, 0, 0, 0.01),
			-15.827px 15.819px 25.704px 0 rgba(0, 0, 0, 0.01),
			-6.364px 6.361px 11.256px 0 rgba(0, 0, 0, 0.01),
			-1.424px 1.423px 4.872px 0 rgba(0, 0, 0, 0.01);
	}
}
